<div class="row">
<div class="col-md-8 col-md-offset-2">

  <h2><center>Shopping Cart</center></h2>
  <!-- Too much logic to the view page need to be somewhere else -->
  <% if session[:order_id].nil? == false %>
    <% items = @order.order_items %>
    <% array = [] %>
    <% array_sum = [] %>
    <% items.each do |item| %>
      <% array.push(item.quantity.to_i) %>
      <% array_sum.push(item.total_price.to_f) %>
    <% end %>
    <% quantity = 0 %>
    <% sum = 0 %>
    <h3><center>Your have <%= array.inject{ |quantity,element| quantity + element} %> items in your cart</h3>
    <h3><center>Subtotal <%= number_to_currency(@total) %></h3>
 <% end %>
</div>

  <div class="shopping-cart col-md-10 col-md-offset-1">
    <%= render "shopping_cart" %>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-4 col-md-offset-7">
        <%= link_to "Continue Shopping", products_path, class: "btn btn-default" %>
        <%= link_to "Checkout", checkout_path, class: "btn btn-success" %>
      </div>
    </div>
  </div>
